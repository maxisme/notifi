import 'package:flutter_test/flutter_test.dart';
import 'package:notifi/utils/crypt.dart';

const String testB64PublicKey =
    "LS0tLS1CRUdJTiBSU0EgUFVCTElDIEtFWS0tLS0tDQpNSUlCQ2dLQ0FRRUExbzRmblJyd1R0UkpuOUhaS3BhWFdrT3RLNFV5WUdlSTg5dWk5MjhyekxaS3hTRXVvc2lVUm1vczIwRFU3SmtvYW5UTllsWUdud3AwakpMZVdOQVZYUGUyYjhia292dmNSVTMvUFQzZjJjVXRsb28zUHZqZGRPeXZnajBQWGFFUG9IOWtiRTNJaXhkcVJQaVRvN3FzaG5FYzFhdEErY3p0TEVXRk00R21VM3BRbkFCSHRRbDRVUHhCZEM1VHl1U1Blbys4Y2szUDg1aEtxcmRKRnBtbC9vM1RQMm5NcTJBaW1nQTdsWE8zSlh0ZXdZaFdoTHRoN2lmK1h2U1EyM2JPeTc2dzlFNGdqcUlRdHU5dmNBeHVzQU5PMlZlbGRXYU1BYzRSSDFESDk4OFowOWFOTXBWUSt2eFNoZlZhRkZTdldBV0tmOTVybTMrSC9UL0NUeklqVXdJREFRQUINCi0tLS0tRU5EIFJTQSBQVUJMSUMgS0VZLS0tLS0=";
const String testB64PrivateKey =
    "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQ0KTUlJRnBBSUJBQUtDQVFFQTFvNGZuUnJ3VHRSSm45SFpLcGFYV2tPdEs0VXlZR2VJODl1aTkyOHJ6TFpLeFNFdW9zaVVSbW9zMjBEVTdKa29hblROWWxZR253cDBqSkxlV05BVlhQZTJiOGJrb3Z2Y1JVMy9QVDNmMmNVdGxvbzNQdmpkZE95dmdqMFBYYUVQb0g5a2JFM0lpeGRxUlBpVG83cXNobkVjMWF0QStjenRMRVdGTTRHbVUzcFFuQUJIdFFsNFVQeEJkQzVUeXVTUGVvKzhjazNQODVoS3FyZEpGcG1sL28zVFAybk1xMkFpbWdBN2xYTzNKWHRld1loV2hMdGg3aWYrWHZTUTIzYk95NzZ3OUU0Z2pxSVF0dTl2Y0F4dXNBTk8yVmVsZFdhTUFjNFJIMURIOTg4WjA5YU5NcFZRK3Z4U2hmVmFGRlN2V0FXS2Y5NXJtMytIL1QvQ1R6SWpVd0tDQVFFQXdlNGlxeG1mWGxGSjN2aUp4NUhvYWtGRHRGT25yalhITjB3dWFHS0cvM2xCNmg3TkRYd3BjZUFrZldXRFQvdzc2TVY4bzBiSW8xYUs5RWtJU3RTQ2lzNm9peTRHbVQ3MzRYalhuUjVoU0hDT2ZVU2ZIUDlMQkpXdktoUlE0RHRsYVpmY1NIeWlLUDdZSWxGZytad1F0MUJrVk1sL2FJc1BVWFhoS1NZbUZjcVFRWDhNMURKejBEU1M3L0ptYklEYjJFQnNTU3p1YWtkd1lEMHNxaDVyU2kvVlFhVTVuaW1oZkk2MFByVXg4QU5wckhHUnYrUzFPdDNmbUZPZDhiMHVJMXFIYkNJR2lqaStqVExndlQrYWI2Y3NtTjdzUE45NVNhQXRsNmtjdXZaVkFuZ2tLaDdoVWNta0N0c3dTUUt3LzBFUDhUTmxFL1pyazB4UWs0VlArUUtDQVFFQXdlNGlxeG1mWGxGSjN2aUp4NUhvYWtGRHRGT25yalhITjB3dWFHS0cvM2xCNmg3TkRYd3BjZUFrZldXRFQvdzc2TVY4bzBiSW8xYUs5RWtJU3RTQ2lzNm9peTRHbVQ3MzRYalhuUjVoU0hDT2ZVU2ZIUDlMQkpXdktoUlE0RHRsYVpmY1NIeWlLUDdZSWxGZytad1F0MUJrVk1sL2FJc1BVWFhoS1NZbUZjcVFRWDhNMURKejBEU1M3L0ptYklEYjJFQnNTU3p1YWtkd1lEMHNxaDVyU2kvVlFhVTVuaW1oZkk2MFByVXg4QU5wckhHUnYrUzFPdDNmbUZPZDhiMHVJMXFIYkNJR2lqaStqVExndlQrYWI2Y3NtTjdzUE45NVNhQXRsNmtjdXZaVkFuZ2tLaDdoVWNta0N0c3dTUUt3LzBFUDhUTmxFL1pyazB4UWs0VlArUUtCZ1FEeTYrOFdJUHFJRVN1a2pFcExvdWhxanJyWmFYU3EwSzZSKy9nTXVURTNSUVl5VTVUb2VQUFMxTkJtMU0rQnl6MEFJQnR4RnQ3WE12YzNnNzkxM2Z4S0NGcklQendIRWpQbFBqZDlQb1c5VTJiRFl0U3ROdHZ2cmV6eGlLR2pwVUJOa09CT1FPZzZ0NTI0dVpRa2dkaVUxWXZxclFVVkdXcDcvc0NvMFlMWTF3S0JnUURpR3pxb2dpUENrQU9QVm9iMG1ORWxtb0tzbmxDZ2N0djhCZ1l1RTRtL0EzZkp0Z0R5L3pHSTQycHYvTjJkTTBHNm1ZTHRVR2wzRjEyeG1PdmxYYXhONG96MDdpbG5OWm9mSjdtaTF0cEpqMEVFR3V6dVhhOHZFV1M5NTBEaDgxK3dJTy9tSkdjMFZJTjZXUWFsREREQWJ5N2diU3NhRVpWNWVyYWYxRTdONVFLQmdRQzhsQ09hamlkdkVjVkxqQXp4QXBwaWZrTFhIR0tSYUViYzFUb094b1ZLWHE4Y3luM0Nxb0s5bksvYjVFRGloWi9wUlFPSW16U0s0dW0va3V0QzJQMU5pNGJPQlNqWVpHMGMvVnVlUXJjWDduTE1JeUR2QnJOZU1Tckxwa0cxQkVnUzd2RHlUcmo1UENtWWlaaFRidWx2UVFmSk9sL0RyV05ZdHI5aFRxUEJLUUtCZ0ZvNER6SEpxOGNvZTZNb0hYVmZ2S1JLZ0xXci9mUG5vTXR4QStwQ3RZWFlObVh3RDNUbVNyZWFOcEEwejZDNElSUDV5UG8wU2NEUk8vdHZUMEVZSFhaK1hVd2w4N05RK2d4UVo0d0lPdFY3S2JBZnBrWitielpTdEdYcDdrTzZQb1lpdmxhUVUvWFhleGJJaXhRMFJ3ZWgxWXlMUXRXR0NxU01TRzZCNG1mWkFvR0FaU0paZjBlMEdTeUJxbE1admpQZ1Q2SFlUaUUzelh4SlhSTFZEWnp1eHVjVEpBSGZvcStOVUw0VCtWUHB1VmVaY2hsWmdScG1CQ1NGWTBVM01VUUxHTU0xTTNNTDBCYWJKYXBqTXI3ZktuM2RUV1d1VXl3cG91M1hVTjdkRGxKR3h4aTR2Y2E0MzVBZElScUQ2MythMW9TeTQ1MHZCemVqYWZlL1VVT0xyamM9DQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQ==";

KeyPair keyPair = KeyPair(testB64PublicKey, testB64PrivateKey);

void main() {
  test('Decrypt string', () {
    const String encryptedString =
        'ZKzheThM6YmOELK+DKiThyskGOKhVgqi469+pSyT/7mrlZ/8sYX43qxnaTv7NE6FWwV8CM1BjJYMjm0yXd24DZoVsuORa55t4iLeLxSM23OIdfey+WHRUSI6XMwL8RdI3W1p86AgKrwmWeU1DKAwLjbUipvpARsUOjp+cR9nRHwTTJ7i3JbMVa87Ehk2GhljTgKAkyXsLO0l2ncZRxEr6jWw0toPnXe1HbdLDM70dnQG1VCTAdT9A46nxpxo2sOIw1EzV38E37qdYHKv2xWuA4W9TxQ+qc40K9wh9msc+0PwvB0Ukh2orn7kPZesTF3+yRJLXc8tBcmSkL11tD4zQg==';
    print(decryptString(encryptedString, keyPair.privateKey));
  });
  test('Decode encrypted notification', () async {
    final KeyPair keyPair = await getRSAKeyPair();
    print(keyPair.b64PrivateKey);
    print(keyPair.b64PublicKey);

    // NotificationUI notification =
    //     NotificationUI.fromJson(jsonMessage, keyPair);
  });
}
